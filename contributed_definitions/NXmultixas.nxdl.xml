<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="nxdlformat.xsl" ?>
<!--
# NeXus - Neutron and X-ray Common Data Format
# 
# Copyright (C) 2008-2022 NeXus International Advisory Committee (NIAC)
# 
# This library is free software; you can redistribute it and/or
# modify it under the terms of the GNU Lesser General Public
# License as published by the Free Software Foundation; either
# version 3 of the License, or (at your option) any later version.
#
# This library is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
# Lesser General Public License for more details.
#
# You should have received a copy of the GNU Lesser General Public
# License along with this library; if not, write to the Free Software
# Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
#
# For further information, see http://www.nexusformat.org
-->
<definition name="NXmultixas" extends="NXxas" type="group"
    category="application"
    xmlns="http://definition.nexusformat.org/nxdl/3.1"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://definition.nexusformat.org/nxdl/3.1 ../nxdl.xsd "
    >
    <symbols>
        <doc>
		    The symbol(s) listed here will be used below to coordinate datasets with the same shape.
        </doc>
		<symbol name="nP">
		    <doc>Number of points</doc>
        </symbol>
	</symbols>
    <doc>
      This is an application definition for raw data from an X-ray absorption spectroscopy experiment with multiple detectors. 
      
      This is essentially a scan of photon energy while recording incoming and absorbed or transmitted beam with multiple detectors.
    </doc>
    <group type="NXentry">
        <doc>
            By convention, a single entry will be named "entry".
            If more than one entry exists, they should be named: 
            "entry_1", "entry_2", ... 
            for analysis software to locate each entry.
        </doc>
        <field name="title" minOccurs="1" maxOccurs="1"/>
        <field name="start_time" type="NX_DATE_TIME" minOccurs="1" maxOccurs="1"/>
        <field name="end_time" type="NX_DATE_TIME" minOccurs="0" maxOccurs="1"/>
        <field name="definition" minOccurs="1" maxOccurs="1">
            <doc> Official NeXus NXDL schema to which this file conforms </doc>
            <enumeration>
                <item value="NXmultixas"></item>
            </enumeration>
        </field>
        <group type="NXinstrument" minOccurs="1" maxOccurs="1">
            <group type="NXsource" minOccurs="1" maxOccurs="1">
                <field name="type" minOccurs="1" maxOccurs="1"/>
                <field name="name" minOccurs="1" maxOccurs="1"/>
                <field name="probe" minOccurs="1" maxOccurs="1">
                    <enumeration>
                        <item value="x-ray"/>
                    </enumeration>
                </field>
            </group>
            <group type="NXbeam" minOccurs="1" maxOccurs="1">
              <link name="energy" target="/NXentry/NXinstrument/monochromator:NXmonochromator/energy"/>
              <field name="incident_polarization_stokes" type="NX_FLOAT" minOccurs="0" maxOccurs="1">
                <dimensions rank="2">
                  <dim index="1" value="nP" required="false"/>
                  <dim index="2" value="4" />  <!-- This must be optional? -->
                </dimensions>
                <attribute name="units" type="NX_CHAR" optional="false"/>
              </field>
            </group>
            <group type="NXmonochromator" name="monochromator" minOccurs="1" maxOccurs="1">
              <field name="energy" type="NX_FLOAT" minOccurs="1" maxOccurs="1">
                <dimensions rank="1">
                  <dim index="1" value="nP" />
                </dimensions>
                <attribute name="units" type="NX_CHAR" optional="false"/>
              </field>
            </group>
            <group type="NXdetector" name="incoming_beam" minOccurs="1">
              <group type="NXamplifier" minOccurs="0">
                <doc>
                  Any number of amplifier stages can be included as a separate NXamplifier instance. Each amplifier should indicate whether the data of the parent NXdetector object is stored in units of the amplifier's input or output signal.

                  Multiple amplifiers should be named "amplifier_1", 
                  "amplifier_2", etc. with the suffix increasing from the 
                  input stage to the output stage of chained amplifiers.
                </doc>
                <field name="name" minOccurs="0" maxOccurs="1">
                  <doc>Name of amplifier</doc>
                    <attribute name="short_name">
                        <doc>Abbreviated name for the amplifier, perhaps an acronym</doc>
                    </attribute>
                </field>
                <attribute name="signal" type="NX_CHAR" optional="false">
                  <doc>Data is stored in either "gain" or "inverse_gain"</doc>
                  <enumeration>
                    <item value="gain" />
                    <item value="inverse_gain" />
                  </enumeration>
                </attribute>
                <field name="gain" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>
                    Amplifier input was scaled by this value during data aquistion; example, 10^9 V/A.
                    output_signal = input_signal * amplifier_gain
                  </doc>
                  <dimensions rank="1">
                    <dim index="1" value="nP" required="false" />
                  </dimensions>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
                <field name="inverse_gain" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>
                    Amplifier input was downscaled by this value during data aquistion; example 2 pA/V.
                    output_signal = input_signal / amplifier_inverse_gain
                  </doc>
                  <dimensions rank="1">
                    <dim index="1" value="nP" required="false" />
                  </dimensions>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
                <attribute name="data_units" type="NX_CHAR" optional="false">
                  <doc>
                    Data of the parent NXdetector object is stored in units of either the "input" or "output" of the amplifier.
                  </doc>
                  <enumeration>
                    <item value="input" />
                    <item value="output" />
                  </enumeration>
                </attribute>
                <field name="input_max" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>Saturation value for amplifier input signal</doc>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
                <field name="output_max" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>Saturation value for amplifier output signal</doc>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
              </group>
              <field name="data" type="NX_NUMBER" minOccurs="1" maxOccurs="1">
                <dimensions rank="1">
                  <dim index="1" value="nP" />
                </dimensions>
                <attribute name="units" type="NX_CHAR" optional="false"/>
              </field>
            </group>
            <group type="NXdetector" name="absorbed_beam" minOccurs="1" maxOccurs="1">
              <field name="data" type="NX_NUMBER" minOccurs="1" maxOccurs="1">
                  <doc>
                    This field historically corresponds to the sample signal, 
                    and is provided for backward compatibility.
      
                    It could be a link to 
                    ``/NXentry/NXinstrument/{detector_name}:NXdetector/data`` 
                    or simply a dummy array, filled with the value "1".
                    The latter indicates that useful data can be found in the 
                    named ``NXdetector``s, such as ``total_electron_yield``, 
                    ``fluorescence_yield``, etc.
                  </doc>
                <dimensions rank="1">
                  <dim index="1" value="nP" />
                </dimensions>
                <attribute name="units" type="NX_CHAR" optional="false"/>
              </field>
            </group>
            <group type="NXdetector" name="total_electron_yield" minOccurs="0" maxOccurs="1">
              <attribute name="signal_type" type="NX_CHAR" optional="false">
                <doc>
                  Detector measures x-ray absorption (intensity increases 
                  "proportionally" to the number of photons being absorbed 
                  by the sample) or transmission (intensity decreases exponentially with the thickness of the sample due to absorption by the sample).
    
                  Value must be ``absorptive`` or ``transmissive``.
                </doc>
                <enumeration>
                  <item value="absorptive" />
                  <item value="transmissive" />
                </enumeration>
              </attribute>
              <group type="NXamplifier" minOccurs="0">
                <doc>
                  Any number of amplifier stages can be included as a separate NXamplifier instance. Each amplifier should indicate whether the data of the parent NXdetector object is stored in units of the amplifier's input or output signal.
    
                  Multiple amplifiers should be named "amplifier_1", 
                  "amplifier_2", etc. with the suffix increasing from the 
                  input stage to the output stage of chained amplifiers.
                </doc>
                <field name="name" minOccurs="0" maxOccurs="1">
                  <doc>Name of amplifier</doc>
                    <attribute name="short_name">
                        <doc>Abbreviated name for the amplifier, perhaps an acronym</doc>
                    </attribute>
                </field>
                <attribute name="signal" type="NX_CHAR" optional="false">
                  <doc>Data is stored in either "gain" or "inverse_gain"</doc>
                  <enumeration>
                    <item value="gain" />
                    <item value="inverse_gain" />
                  </enumeration>
                </attribute>
                <field name="gain" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>
                    Amplifier input was scaled by this value during data aquistion; example, 10^9 V/A.
                    output_signal = input_signal * amplifier_gain
                  </doc>
                  <dimensions rank="1">
                    <dim index="1" value="nP" required="false" />
                  </dimensions>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
                <field name="inverse_gain" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>
                    Amplifier input was downscaled by this value during data aquistion; example 2 pA/V.
                    output_signal = input_signal / amplifier_inverse_gain
                  </doc>
                  <dimensions rank="1">
                    <dim index="1" value="nP" required="false" />
                  </dimensions>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
                <attribute name="data_units" type="NX_CHAR" optional="false">
                  <doc>
                    Data of the parent NXdetector object is stored in units of either the "input" or "output" of the amplifier.
                  </doc>
                  <enumeration>
                    <item value="input" />
                    <item value="output" />
                  </enumeration>
                </attribute>
                <field name="input_max" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>Saturation value for amplifier input signal</doc>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
                <field name="output_max" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>Saturation value for amplifier output signal</doc>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
              </group>
              <field name="data" type="NX_NUMBER" minOccurs="1" maxOccurs="1">
                <dimensions rank="1">
                  <dim index="1" value="nP" />
                </dimensions>
                <attribute name="units" type="NX_CHAR" optional="false"/>
              </field>
            </group>
            <group type="NXdetector" name="partial_electron_yield" minOccurs="0" maxOccurs="1">
              <attribute name="signal_type" type="NX_CHAR" optional="false">
                <doc>
                  Detector measures x-ray absorption (intensity increases 
                  "proportionally" to the number of photons being absorbed 
                  by the sample) or transmission (intensity decreases exponentially with the thickness of the sample due to absorption by the sample).
    
                  Value must be ``absorptive`` or ``transmissive``.
                </doc>
                <enumeration>
                  <item value="absorptive" />
                  <item value="transmissive" />
                </enumeration>
              </attribute>
              <group type="NXamplifier" minOccurs="0">
                <doc>
                  Any number of amplifier stages can be included as a separate NXamplifier instance. Each amplifier should indicate whether the data of the parent NXdetector object is stored in units of the amplifier's input or output signal.
    
                  Multiple amplifiers should be named "amplifier_1", 
                  "amplifier_2", etc. with the suffix increasing from the 
                  input stage to the output stage of chained amplifiers.
                </doc>
                <field name="name" minOccurs="0" maxOccurs="1">
                  <doc>Name of amplifier</doc>
                    <attribute name="short_name">
                        <doc>Abbreviated name for the amplifier, perhaps an acronym</doc>
                    </attribute>
                </field>
                <attribute name="signal" type="NX_CHAR" optional="false">
                  <doc>Data is stored in either "gain" or "inverse_gain"</doc>
                  <enumeration>
                    <item value="gain" />
                    <item value="inverse_gain" />
                  </enumeration>
                </attribute>
                <field name="gain" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>
                    Amplifier input was scaled by this value during data aquistion; example, 10^9 V/A.
                    output_signal = input_signal * amplifier_gain
                  </doc>
                  <dimensions rank="1">
                    <dim index="1" value="nP" required="false" />
                  </dimensions>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
                <field name="inverse_gain" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>
                    Amplifier input was downscaled by this value during data aquistion; example 2 pA/V.
                    output_signal = input_signal / amplifier_inverse_gain
                  </doc>
                  <dimensions rank="1">
                    <dim index="1" value="nP" required="false" />
                  </dimensions>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
                <attribute name="data_units" type="NX_CHAR" optional="false">
                  <doc>
                    Data of the parent NXdetector object is stored in units of either the "input" or "output" of the amplifier.
                  </doc>
                  <enumeration>
                    <item value="input" />
                    <item value="output" />
                  </enumeration>
                </attribute>
                <field name="input_max" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>Saturation value for amplifier input signal</doc>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
                <field name="output_max" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>Saturation value for amplifier output signal</doc>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
              </group>
              <field name="data" type="NX_NUMBER" minOccurs="1" maxOccurs="1">
                <dimensions rank="1">
                  <dim index="1" value="nP" />
                </dimensions>
                <attribute name="units" type="NX_CHAR" optional="false"/>
              </field>
            </group>
            <group type="NXdetector" name="auger_electron_yield" minOccurs="0" maxOccurs="1">
              <attribute name="signal_type" type="NX_CHAR" optional="false">
                <doc>
                  Detector measures x-ray absorption (intensity increases 
                  "proportionally" to the number of photons being absorbed 
                  by the sample) or transmission (intensity decreases exponentially with the thickness of the sample due to absorption by the sample).
    
                  Value must be ``absorptive`` or ``transmissive``.
                </doc>
                <enumeration>
                  <item value="absorptive" />
                  <item value="transmissive" />
                </enumeration>
              </attribute>
              <group type="NXamplifier" minOccurs="0">
                <doc>
                  Any number of amplifier stages can be included as a separate NXamplifier instance. Each amplifier should indicate whether the data of the parent NXdetector object is stored in units of the amplifier's input or output signal.
    
                  Multiple amplifiers should be named "amplifier_1", 
                  "amplifier_2", etc. with the suffix increasing from the 
                  input stage to the output stage of chained amplifiers.
                </doc>
                <field name="name" minOccurs="0" maxOccurs="1">
                  <doc>Name of amplifier</doc>
                    <attribute name="short_name">
                        <doc>Abbreviated name for the amplifier, perhaps an acronym</doc>
                    </attribute>
                </field>
                <attribute name="signal" type="NX_CHAR" optional="false">
                  <doc>Data is stored in either "gain" or "inverse_gain"</doc>
                  <enumeration>
                    <item value="gain" />
                    <item value="inverse_gain" />
                  </enumeration>
                </attribute>
                <field name="gain" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>
                    Amplifier input was scaled by this value during data aquistion; example, 10^9 V/A.
                    output_signal = input_signal * amplifier_gain
                  </doc>
                  <dimensions rank="1">
                    <dim index="1" value="nP" required="false" />
                  </dimensions>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
                <field name="inverse_gain" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>
                    Amplifier input was downscaled by this value during data aquistion; example 2 pA/V.
                    output_signal = input_signal / amplifier_inverse_gain
                  </doc>
                  <dimensions rank="1">
                    <dim index="1" value="nP" required="false" />
                  </dimensions>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
                <attribute name="data_units" type="NX_CHAR" optional="false">
                  <doc>
                    Data of the parent NXdetector object is stored in units of either the "input" or "output" of the amplifier.
                  </doc>
                  <enumeration>
                    <item value="input" />
                    <item value="output" />
                  </enumeration>
                </attribute>
                <field name="input_max" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>Saturation value for amplifier input signal</doc>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
                <field name="output_max" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>Saturation value for amplifier output signal</doc>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
              </group>
              <field name="data" type="NX_NUMBER" minOccurs="1" maxOccurs="1">
                <dimensions rank="1">
                  <dim index="1" value="nP" />
                </dimensions>
                <attribute name="units" type="NX_CHAR" optional="false"/>
              </field>
            </group>
            <group type="NXdetector" name="fluorescence_yield" minOccurs="0" maxOccurs="1">
              <attribute name="signal_type" type="NX_CHAR" optional="false">
                <doc>
                  Detector measures x-ray absorption (intensity increases 
                  "proportionally" to the number of photons being absorbed 
                  by the sample) or transmission (intensity decreases exponentially with the thickness of the sample due to absorption by the sample).
    
                  Value must be ``absorptive`` or ``transmissive``.
                </doc>
                <enumeration>
                  <item value="absorptive" />
                  <item value="transmissive" />
                </enumeration>
              </attribute>
              <group type="NXamplifier" minOccurs="0">
                <doc>
                  Any number of amplifier stages can be included as a separate NXamplifier instance. Each amplifier should indicate whether the data of the parent NXdetector object is stored in units of the amplifier's input or output signal.
    
                  Multiple amplifiers should be named "amplifier_1", 
                  "amplifier_2", etc. with the suffix increasing from the 
                  input stage to the output stage of chained amplifiers.
                </doc>
                <field name="name" minOccurs="0" maxOccurs="1">
                  <doc>Name of amplifier</doc>
                    <attribute name="short_name">
                        <doc>Abbreviated name for the amplifier, perhaps an acronym</doc>
                    </attribute>
                </field>
                <attribute name="signal" type="NX_CHAR" optional="false">
                  <doc>Data is stored in either "gain" or "inverse_gain"</doc>
                  <enumeration>
                    <item value="gain" />
                    <item value="inverse_gain" />
                  </enumeration>
                </attribute>
                <field name="gain" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>
                    Amplifier input was scaled by this value during data aquistion; example, 10^9 V/A.
                    output_signal = input_signal * amplifier_gain
                  </doc>
                  <dimensions rank="1">
                    <dim index="1" value="nP" required="false" />
                  </dimensions>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
                <field name="inverse_gain" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>
                    Amplifier input was downscaled by this value during data aquistion; example 2 pA/V.
                    output_signal = input_signal / amplifier_inverse_gain
                  </doc>
                  <dimensions rank="1">
                    <dim index="1" value="nP" required="false" />
                  </dimensions>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
                <attribute name="data_units" type="NX_CHAR" optional="false">
                  <doc>
                    Data of the parent NXdetector object is stored in units of either the "input" or "output" of the amplifier.
                  </doc>
                  <enumeration>
                    <item value="input" />
                    <item value="output" />
                  </enumeration>
                </attribute>
                <field name="input_max" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>Saturation value for amplifier input signal</doc>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
                <field name="output_max" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>Saturation value for amplifier output signal</doc>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
              </group>
              <field name="data" type="NX_NUMBER" minOccurs="1" maxOccurs="1">
                <dimensions rank="1">
                  <dim index="1" value="nP" />
                </dimensions>
                <attribute name="units" type="NX_CHAR" optional="false"/>
              </field>
            </group>
            <group type="NXdetector" name="total_fluorescence_yield" minOccurs="0" maxOccurs="1">
              <attribute name="signal_type" type="NX_CHAR" optional="false">
                <doc>
                  Detector measures x-ray absorption (intensity increases 
                  "proportionally" to the number of photons being absorbed 
                  by the sample) or transmission (intensity decreases exponentially with the thickness of the sample due to absorption by the sample).
    
                  Value must be ``absorptive`` or ``transmissive``.
                </doc>
                <enumeration>
                  <item value="absorptive" />
                  <item value="transmissive" />
                </enumeration>
              </attribute>
              <group type="NXamplifier" minOccurs="0">
                <doc>
                  Any number of amplifier stages can be included as a separate NXamplifier instance. Each amplifier should indicate whether the data of the parent NXdetector object is stored in units of the amplifier's input or output signal.
    
                  Multiple amplifiers should be named "amplifier_1", 
                  "amplifier_2", etc. with the suffix increasing from the 
                  input stage to the output stage of chained amplifiers.
                </doc>
                <field name="name" minOccurs="0" maxOccurs="1">
                  <doc>Name of amplifier</doc>
                    <attribute name="short_name">
                        <doc>Abbreviated name for the amplifier, perhaps an acronym</doc>
                    </attribute>
                </field>
                <attribute name="signal" type="NX_CHAR" optional="false">
                  <doc>Data is stored in either "gain" or "inverse_gain"</doc>
                  <enumeration>
                    <item value="gain" />
                    <item value="inverse_gain" />
                  </enumeration>
                </attribute>
                <field name="gain" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>
                    Amplifier input was scaled by this value during data aquistion; example, 10^9 V/A.
                    output_signal = input_signal * amplifier_gain
                  </doc>
                  <dimensions rank="1">
                    <dim index="1" value="nP" required="false" />
                  </dimensions>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
                <field name="inverse_gain" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>
                    Amplifier input was downscaled by this value during data aquistion; example 2 pA/V.
                    output_signal = input_signal / amplifier_inverse_gain
                  </doc>
                  <dimensions rank="1">
                    <dim index="1" value="nP" required="false" />
                  </dimensions>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
                <attribute name="data_units" type="NX_CHAR" optional="false">
                  <doc>
                    Data of the parent NXdetector object is stored in units of either the "input" or "output" of the amplifier.
                  </doc>
                  <enumeration>
                    <item value="input" />
                    <item value="output" />
                  </enumeration>
                </attribute>
                <field name="input_max" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>Saturation value for amplifier input signal</doc>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
                <field name="output_max" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>Saturation value for amplifier output signal</doc>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
              </group>
              <field name="data" type="NX_NUMBER" minOccurs="1" maxOccurs="1">
                <dimensions rank="1">
                  <dim index="1" value="nP" />
                </dimensions>
                <attribute name="units" type="NX_CHAR" optional="false"/>
              </field>
            </group>
            <group type="NXdetector" name="partial_fluorescence_yield" minOccurs="0" maxOccurs="1">
              <attribute name="signal_type" type="NX_CHAR" optional="false">
                <doc>
                  Detector measures x-ray absorption (intensity increases 
                  "proportionally" to the number of photons being absorbed 
                  by the sample) or transmission (intensity decreases exponentially with the thickness of the sample due to absorption by the sample).
    
                  Value must be ``absorptive`` or ``transmissive``.
                </doc>
                <enumeration>
                  <item value="absorptive" />
                  <item value="transmissive" />
                </enumeration>
              </attribute>
              <group type="NXamplifier" minOccurs="0">
                <doc>
                  Any number of amplifier stages can be included as a separate NXamplifier instance. Each amplifier should indicate whether the data of the parent NXdetector object is stored in units of the amplifier's input or output signal.
    
                  Multiple amplifiers should be named "amplifier_1", 
                  "amplifier_2", etc. with the suffix increasing from the 
                  input stage to the output stage of chained amplifiers.
                </doc>
                <field name="name" minOccurs="0" maxOccurs="1">
                  <doc>Name of amplifier</doc>
                    <attribute name="short_name">
                        <doc>Abbreviated name for the amplifier, perhaps an acronym</doc>
                    </attribute>
                </field>
                <attribute name="signal" type="NX_CHAR" optional="false">
                  <doc>Data is stored in either "gain" or "inverse_gain"</doc>
                  <enumeration>
                    <item value="gain" />
                    <item value="inverse_gain" />
                  </enumeration>
                </attribute>
                <field name="gain" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>
                    Amplifier input was scaled by this value during data aquistion; example, 10^9 V/A.
                    output_signal = input_signal * amplifier_gain
                  </doc>
                  <dimensions rank="1">
                    <dim index="1" value="nP" required="false" />
                  </dimensions>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
                <field name="inverse_gain" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>
                    Amplifier input was downscaled by this value during data aquistion; example 2 pA/V.
                    output_signal = input_signal / amplifier_inverse_gain
                  </doc>
                  <dimensions rank="1">
                    <dim index="1" value="nP" required="false" />
                  </dimensions>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
                <attribute name="data_units" type="NX_CHAR" optional="false">
                  <doc>
                    Data of the parent NXdetector object is stored in units of either the "input" or "output" of the amplifier.
                  </doc>
                  <enumeration>
                    <item value="input" />
                    <item value="output" />
                  </enumeration>
                </attribute>
                <field name="input_max" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>Saturation value for amplifier input signal</doc>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
                <field name="output_max" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>Saturation value for amplifier output signal</doc>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
              </group>
              <field name="data" type="NX_NUMBER" minOccurs="1" maxOccurs="1">
                <dimensions rank="1">
                  <dim index="1" value="nP" />
                </dimensions>
                <attribute name="units" type="NX_CHAR" optional="false"/>
              </field>
            </group>
            <group type="NXdetector" name="inverse_partial_fluorescence_yield" minOccurs="0" maxOccurs="1">
              <attribute name="signal_type" type="NX_CHAR" optional="false">
                <doc>
                  Detector measures x-ray absorption (intensity increases 
                  "proportionally" to the number of photons being absorbed 
                  by the sample) or transmission (intensity decreases exponentially with the thickness of the sample due to absorption by the sample).
    
                  Value must be ``absorptive`` or ``transmissive``.
                </doc>
                <enumeration>
                  <item value="absorptive" />
                  <item value="transmissive" />
                </enumeration>
              </attribute>
              <group type="NXamplifier" minOccurs="0">
                <doc>
                  Any number of amplifier stages can be included as a separate NXamplifier instance. Each amplifier should indicate whether the data of the parent NXdetector object is stored in units of the amplifier's input or output signal.
    
                  Multiple amplifiers should be named "amplifier_1", 
                  "amplifier_2", etc. with the suffix increasing from the 
                  input stage to the output stage of chained amplifiers.
                </doc>
                <field name="name" minOccurs="0" maxOccurs="1">
                  <doc>Name of amplifier</doc>
                    <attribute name="short_name">
                        <doc>Abbreviated name for the amplifier, perhaps an acronym</doc>
                    </attribute>
                </field>
                <attribute name="signal" type="NX_CHAR" optional="false">
                  <doc>Data is stored in either "gain" or "inverse_gain"</doc>
                  <enumeration>
                    <item value="gain" />
                    <item value="inverse_gain" />
                  </enumeration>
                </attribute>
                <field name="gain" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>
                    Amplifier input was scaled by this value during data aquistion; example, 10^9 V/A.
                    output_signal = input_signal * amplifier_gain
                  </doc>
                  <dimensions rank="1">
                    <dim index="1" value="nP" required="false" />
                  </dimensions>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
                <field name="inverse_gain" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>
                    Amplifier input was downscaled by this value during data aquistion; example 2 pA/V.
                    output_signal = input_signal / amplifier_inverse_gain
                  </doc>
                  <dimensions rank="1">
                    <dim index="1" value="nP" required="false" />
                  </dimensions>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
                <attribute name="data_units" type="NX_CHAR" optional="false">
                  <doc>
                    Data of the parent NXdetector object is stored in units of either the "input" or "output" of the amplifier.
                  </doc>
                  <enumeration>
                    <item value="input" />
                    <item value="output" />
                  </enumeration>
                </attribute>
                <field name="input_max" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>Saturation value for amplifier input signal</doc>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
                <field name="output_max" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>Saturation value for amplifier output signal</doc>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
              </group>
              <field name="data" type="NX_NUMBER" minOccurs="1" maxOccurs="1">
                <dimensions rank="1">
                  <dim index="1" value="nP" />
                </dimensions>
                <attribute name="units" type="NX_CHAR" optional="false"/>
              </field>
            </group>
            <group type="NXdetector" name="luminescence_yield" minOccurs="0" maxOccurs="1">
              <attribute name="signal_type" type="NX_CHAR" optional="false">
                <doc>
                  Detector measures x-ray absorption (intensity increases 
                  "proportionally" to the number of photons being absorbed 
                  by the sample) or transmission (intensity decreases exponentially with the thickness of the sample due to absorption by the sample).
    
                  Value must be ``absorptive`` or ``transmissive``.
                </doc>
                <enumeration>
                  <item value="absorptive" />
                  <item value="transmissive" />
                </enumeration>
              </attribute>
              <group type="NXamplifier" minOccurs="0">
                <doc>
                  Any number of amplifier stages can be included as a separate NXamplifier instance. Each amplifier should indicate whether the data of the parent NXdetector object is stored in units of the amplifier's input or output signal.
    
                  Multiple amplifiers should be named "amplifier_1", 
                  "amplifier_2", etc. with the suffix increasing from the 
                  input stage to the output stage of chained amplifiers.
                </doc>
                <field name="name" minOccurs="0" maxOccurs="1">
                  <doc>Name of amplifier</doc>
                    <attribute name="short_name">
                        <doc>Abbreviated name for the amplifier, perhaps an acronym</doc>
                    </attribute>
                </field>
                <attribute name="signal" type="NX_CHAR" optional="false">
                  <doc>Data is stored in either "gain" or "inverse_gain"</doc>
                  <enumeration>
                    <item value="gain" />
                    <item value="inverse_gain" />
                  </enumeration>
                </attribute>
                <field name="gain" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>
                    Amplifier input was scaled by this value during data aquistion; example, 10^9 V/A.
                    output_signal = input_signal * amplifier_gain
                  </doc>
                  <dimensions rank="1">
                    <dim index="1" value="nP" required="false" />
                  </dimensions>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
                <field name="inverse_gain" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>
                    Amplifier input was downscaled by this value during data aquistion; example 2 pA/V.
                    output_signal = input_signal / amplifier_inverse_gain
                  </doc>
                  <dimensions rank="1">
                    <dim index="1" value="nP" required="false" />
                  </dimensions>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
                <attribute name="data_units" type="NX_CHAR" optional="false">
                  <doc>
                    Data of the parent NXdetector object is stored in units of either the "input" or "output" of the amplifier.
                  </doc>
                  <enumeration>
                    <item value="input" />
                    <item value="output" />
                  </enumeration>
                </attribute>
                <field name="input_max" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>Saturation value for amplifier input signal</doc>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
                <field name="output_max" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>Saturation value for amplifier output signal</doc>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
              </group>
              <field name="data" type="NX_NUMBER" minOccurs="1" maxOccurs="1">
                <dimensions rank="1">
                  <dim index="1" value="nP" />
                </dimensions>
                <attribute name="units" type="NX_CHAR" optional="false"/>
              </field>
            </group>
            <group type="NXdetector" name="transmission_yield" minOccurs="0" maxOccurs="1">
              <attribute name="signal_type" type="NX_CHAR" optional="false">
                <doc>
                  Detector measures x-ray absorption (intensity increases 
                  "proportionally" to the number of photons being absorbed 
                  by the sample) or transmission (intensity decreases exponentially with the thickness of the sample due to absorption by the sample).
    
                  Value must be ``absorptive`` or ``transmissive``.
                </doc>
                <enumeration>
                  <item value="absorptive" />
                  <item value="transmissive" />
                </enumeration>
              </attribute>
              <group type="NXamplifier" minOccurs="0">
                <doc>
                  Any number of amplifier stages can be included as a separate NXamplifier instance. Each amplifier should indicate whether the data of the parent NXdetector object is stored in units of the amplifier's input or output signal.
    
                  Multiple amplifiers should be named "amplifier_1", 
                  "amplifier_2", etc. with the suffix increasing from the 
                  input stage to the output stage of chained amplifiers.
                </doc>
                <field name="name" minOccurs="0" maxOccurs="1">
                  <doc>Name of amplifier</doc>
                    <attribute name="short_name">
                        <doc>Abbreviated name for the amplifier, perhaps an acronym</doc>
                    </attribute>
                </field>
                <attribute name="signal" type="NX_CHAR" optional="false">
                  <doc>Data is stored in either "gain" or "inverse_gain"</doc>
                  <enumeration>
                    <item value="gain" />
                    <item value="inverse_gain" />
                  </enumeration>
                </attribute>
                <field name="gain" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>
                    Amplifier input was scaled by this value during data aquistion; example, 10^9 V/A.
                    output_signal = input_signal * amplifier_gain
                  </doc>
                  <dimensions rank="1">
                    <dim index="1" value="nP" required="false" />
                  </dimensions>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
                <field name="inverse_gain" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>
                    Amplifier input was downscaled by this value during data aquistion; example 2 pA/V.
                    output_signal = input_signal / amplifier_inverse_gain
                  </doc>
                  <dimensions rank="1">
                    <dim index="1" value="nP" required="false" />
                  </dimensions>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
                <attribute name="data_units" type="NX_CHAR" optional="false">
                  <doc>
                    Data of the parent NXdetector object is stored in units of either the "input" or "output" of the amplifier.
                  </doc>
                  <enumeration>
                    <item value="input" />
                    <item value="output" />
                  </enumeration>
                </attribute>
                <field name="input_max" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>Saturation value for amplifier input signal</doc>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
                <field name="output_max" type="NX_NUMBER" minOccurs="0" maxOccurs="1">
                  <doc>Saturation value for amplifier output signal</doc>
                  <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
              </group>
              <field name="data" type="NX_NUMBER" minOccurs="1" maxOccurs="1">
                <dimensions rank="1">
                  <dim index="1" value="nP" />
                </dimensions>
                <attribute name="units" type="NX_CHAR" optional="false"/>
              </field>
            </group>
        </group>
        <group type="NXsample" minOccurs="1" maxOccurs="1">
            <field name="name">
                <doc>Descriptive name of sample</doc>
            </field>
        </group>
        <group type="NXmonitor" minOccurs="1" maxOccurs="1">
            <field name="mode" minOccurs="1" maxOccurs="1">
                <doc>
                    Count to a preset value based on either clock time (timer)
                    or received monitor counts (monitor).
                </doc>
                <enumeration>
                    <item value="monitor"/>
                    <item value="timer"/>
                </enumeration>
            </field>
            <field name="preset" type="NX_FLOAT" minOccurs="1" maxOccurs="1">
                <doc>preset value for time or monitor</doc>
            </field>
            <field name="data" type="NX_NUMBER" minOccurs="1" maxOccurs="1">
		<doc>This field could be a link to ``/NXentry/NXinstrument/incoming_beam:NXdetector/data``</doc>
              <dimensions rank="1">
                <dim index="1" value="nP" />
              </dimensions>
              <attribute name="units" type="NX_CHAR" optional="false"/>
            </field>
        </group>
        <group type="NXdata">
          <doc>
            Use a separate NXdata group for each detector channel
            ``/NXentry/NXinstrument/{detector_name}:NXdetector`` 

            By convention, a single data group will be named "data".
            If more than one data group exists, they should be named: 
            "data_1", "data_2", ... 
            for analysis software to locate each data group.
          </doc>
          <link name="energy" target="/NXentry/NXinstrument/monochromator:NXmonochromator/energy"/>
          <link name="absorbed_beam" target="/NXentry/NXdata/intensity" deprecated="pending"/>
          <field name="intensity">
            <doc>
              This field could be a link to 
              ``/NXentry/NXinstrument/{detector_name}:NXdetector/data`` 
            </doc>
            <dimensions rank="1">
              <dim index="1" value="nP" />
            </dimensions>
            <attribute name="units" type="NX_CHAR" optional="false"/>
                </field>
          <field name="mode">
            <doc>
              Detection method used for observing the sample absorption 
              (pick one from the enumerated list and spell it exactly).

              "Transmission" is deprecated in favor of "Transmission Yield"
            </doc>
                    <enumeration>
                      <item value="Total Electron Yield" />
                      <item value="Partial Electron Yield" />
                      <item value="Auger Electron Yield" />
                      <item value="Fluorescence Yield" />
                      <item value="Total Fluorescence Yield" />
                      <item value="Partial Fluorescence Yield" />
                      <item value="Inverse Partial Fluorescence Yield" />
                      <item value="Luminescence Yield" />
                      <item value="Transmission" />
                      <item value="Transmission Yield" />
                    </enumeration>
                </field>
        </group>
    </group>
</definition>
